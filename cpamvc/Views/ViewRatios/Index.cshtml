@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    List<Ratio> ratioList = (List<Ratio>)ViewData["ratio-list"];
    Ratio currentRatio = (Ratio)ViewData["current-ratio"];
}
<div class="container-fluid bg-dark text-light pt-5 pb-0 mb-0">
    <div class="container">
        <div class="row">
            <div class="col-sm-7">
                <div class="row">
                    <!--     <div>
                        <p class="mb-0">Choose company:</p>
                        <div class="dropdown show">
                            <a  class="btn btn-secondary dropdown-toggle pl-0 title-drop" href="https://example.com" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <span class="h2">Apple (AAPL)</span>
                            </a>
                            <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuLink">
                                <a class="dropdown-item" href="#">Amazon</a>
                                <a class="dropdown-item" href="#">Costco</a>
                                <a class="dropdown-item" href="#">IBM</a>
                            </div>
                        </div>
                    </div>
                    <div>
                        <p class="mb-0 ml-4">Choose ratio:</p>
                        <div class="dropdown show ml-4">
                            <a class="btn btn-secondary dropdown-toggle pl-0 title-drop" href="https://example.com" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <span class="h2">Debt/Assets</span>
                            </a>
                            <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuLink">
                                <a class="dropdown-item" href="#">Something</a>
                                <a class="dropdown-item" href="#">Another thing</a>
                                <a class="dropdown-item" href="#">Else</a>
                            </div>
                        </div>
                    </div> -->
                </div>
            </div>
            <div class="col-sm-5 d-flex">
                <!--  <div class="align-self-center">
                    <div id="search-bar">
                        <div class="input-group">
                            <input class="form-control input-lg" type="search" placeholder="Search Companies" aria-label="Search">
                            <button class="btn btn-info" type="submit"><i class="fa fa-search" aria-hidden="true"></i></button>
                        </div>
                    </div>

                </div> -->
            </div>
        </div>

    </div>
</div>
<div style="position: absolute;" class="bg-dark container-fluid py-5"></div>
        </div>
<!-- End Header Content -->
<!-- Start Main Content -->
<div class="container mb-5">
    <!-- First Card -->
    <!-- Second Card (Calculations) -->
    <div class="row">
        <div class="col-12 card card-3 pb-4 mt-5">
            <div class="row">
                <div class="col-6">
                    <div class="card text-center p-2 mb-4 card-3 title-card text-light"><span class="h4">View Ratio</span></div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-1">


                </div>
                <div class="col-md-5">
                    <div class="form-group">
                        <label class="h5" for="exampleFormControlSelect2">Select a ratio to view details.</label>
                        <select class="form-control" size="8" id="select-ratio">
                            @foreach (Ratio ratio in ratioList)
                            {
                                if (ratio.ID == currentRatio.ID)
                                {
                                  <option selected value="@ratio.ID">@ratio.Name</option>
                                }
                                else
                                {                               
                                    <option value="@ratio.ID">@ratio.Name</option>
                                }
                           
                            }
                        </select>
                    </div>
                </div>

                <div class="col-md-5 pr-5">
                    <!-- Title -->

                    <p class="h4">Construction</p>
                    <table class="table">
                        <tr>
                            <td>Numerator</td>
                            <td>
                                <ul>
                                    @foreach (RatioConstruct construct in currentRatio.Numerator)
                                    {
                                        <li>@construct.Operator @construct.Name</li>

                                    }

                                </ul>
                            </td>
                        </tr>
                        <tr>
                            <td>Denominator</td>
                            <td>
                                <ul>
                                    @foreach (RatioConstruct construct in currentRatio.Denominator)
                                    {
                                        <li>@construct.Operator @construct.Name</li>

                                    }

                                </ul>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                @currentRatio.Name = 
                            </td>
                            <td>(@foreach (RatioConstruct construct in currentRatio.Numerator)
                                {@construct.Operator @construct.Name})
                                /
                                (@foreach (RatioConstruct construct in currentRatio.Denominator)
                                {@construct.Operator @construct.Name})
                            </td>
                        </tr>
                    </table>
                </div>
                <!-- End First Column -->
                <!-- Second Column (Graph) -->

            </div>
        </div>
    </div>

</div>

@section Scripts {
    <script src="~/js/viewRatios.js" asp-append-version="true"></script>
}